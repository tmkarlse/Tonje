<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Oblig 2, oppgave 1,2,3</title>
		<script>
		
			//Henter funkjsonen til knappen
			function oppstart () {
				document.getElementById("btnRegistrer").onclick = nyBruker;
			}	
				
				function nyBruker () {
					var name = document.getElementById("txtUsername").value;
					var password = document.getElementById("txtPassword").value;
					var bekreft = document.getElementById("txtConfirmPassword").value;
					var aar = document.getElementById("txtAar").value;
					var maaned = document.getElementById("txtMaaned").value;
					var dag = document.getElementById("txtDag").value;
					var dagensdato = new Date();
					var aardiff = dagensdato.getFullYear()  -aar;
                    var maandiff = dagensdato.getMonth()+1  -maaned;
                    var dagdiff = dagensdato.getDay()+1  -dag;
                    
						//Sier at hvis feltene er tomme skal en feilmelding dukke opp.
					if ( !name + !password + !bekreft + !aar + !maaned + !dag) {
						melding = "Venligst fyll inn de manglende feltene.";
					}
						//Sier at passordet må være lengere enn 5 karakterer
					else if (password.length < 5) {
						melding = "Passordet er for kort.";
					}
						//Sier at en feilmelding vil dukke opp hvis passordene ikke er like.
					else if (password != bekreft) {
						melding = "Passordene er ikke like.";
					}
                        //sjekker at alderen er over 18 år
					else if( aardiff < 17 ) {
                        melding = "Beklager, du er ikke gammel nok til å registrere deg på våre nettsider.";
                    }
                    else if (aardiff == 17){
                        if (maandiff > maaned){
                            melding = "Beklager, du er ikke gammel nok til å registrere deg på våre nettsider.";
                        }
                        else if (maandiff == maaned){
                            if (dagdiff > dag ){
                                melding = "Beklager, du er ikke gammel nok til å registrere deg på våre nettsider.";
                            }
                        }  
                    }  
                    	//Sier at hvis alle feltene er fylt ut, skal en Takk-melding dukke opp. 
					else {
						melding = "Takk for registreringen.";
					}
                    document.getElementById("melding").innerHTML = melding;           
			}
		</script>
		<style>
            body {
                display: block;
                background-color: whitesmoke;
                padding: 20px;
                margin-left: 10px;
            }
		</style>
	</head>
	<body>
		<h1>Registreringsskjema</h1>
            <h3>Venlilgst fyll ut feltene nedenfor</h3>
                <input type="text" placeholder="Brukernavn" id="txtUsername" /><br />
                <input type="password" placeholder="Passord" id="txtPassword" /><br />
                <input type="password" placeholder="Gjenta Passord" id="txtConfirmPassword" /><br />
                <p>Fyll inn fødselsdato</p>
                <input type="number" id="txtAar" placeholder="År" min="1900" max="2017"/> <br />
                <input type="number" id="txtMaaned" placeholder="Måned" min="1" max="12"/> <br />
                <input type="number" id="txtDag" placeholder="Dag" min="1" max="31"/> <br />
                <br />
                <button type="button" id="btnRegistrer">Registrer</button><br />
                <p id="melding"></p>
	</body>
</html>
